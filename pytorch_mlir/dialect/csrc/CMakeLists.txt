set(LLVM_OPTIONAL_SOURCES
  test.cpp
  ATenToAIRPass.cpp
  AffineToAIRPass.cpp
  AcapLoopLoweringPass.cpp
  AcapHerdAssignPass.cpp
  AcapHerdLoweringPass.cpp
  AcapOutliner.cpp
  AffineLoopOptPass.cpp
  ATenDialect.cpp
  AIRDialect.cpp
  AIRLoweringPass.cpp
  ATenDialectOpStats.cpp
  ATenLoweringPass.cpp
  ATenModulePass.cpp
  ATenOpReport.cpp
  ATenSimpleAllocatePass.cpp
  ATenToStd.cpp
  LivenessReport.cpp
  ReturnEliminationPass.cpp
  AIRToAffine.cpp
  AIRToLinalg.cpp
  AIRLinalgCodegen.cpp
  AIRToAIEPass.cpp
  Util.cpp
  )

add_mlir_library(ATen
  ATenToAIRPass.cpp
  AffineToAIRPass.cpp
  AirDataflowPass.cpp
  AcapLoopLoweringPass.cpp
  AcapHerdAssignPass.cpp
  AcapHerdLoweringPass.cpp
  AcapOutliner.cpp
  AffineLoopOptPass.cpp
  ATenDialect.cpp
  AIRDialect.cpp
  AIRLoweringPass.cpp
  ATenDialectOpStats.cpp
  ATenLoweringPass.cpp
  ATenModulePass.cpp
  ATenOpReport.cpp
  ATenSimpleAllocatePass.cpp
  ATenToStd.cpp
  LivenessReport.cpp
  ReturnEliminationPass.cpp
  AIRToAffine.cpp
  AIRToLinalg.cpp
  AIRLinalgCodegen.cpp
  AIRToAIEPass.cpp
  Util.cpp
  AirDataflowUtils.cpp

  ADDITIONAL_HEADER_DIRS
  ${PROJECT_SOURCE_DIR}/dialect/include
  ${PROJECT_BINARY_DIR}/dialect/include
  
  DEPENDS
  MLIRAIRIncGen
  MLIRAIRPassIncGen
  MLIRAIREnumsIncGen
  MLIRAIROpInterfacesIncGen

  LINK_LIBS
  NPCOMPATenDialect
  NPCOMPBasicpyDialect
  MLIR

  AIE
  )
llvm_update_compile_flags(ATen)
